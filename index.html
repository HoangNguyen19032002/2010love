<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>Love Unlock ‚Äî Quiz Surprise</title>
  <style>
    :root{
      /* Dark-but-sweet palette */
      --bg1:#0d1020;            /* n·ªÅn t·ªëi d·ªãu */
      --bg2:#131834;            /* xanh t√≠m than */
      --milk:#ffebf5;           /* h·ªìng tr√† s·ªØa r·∫•t nh·∫°t */
      --pink:#ff6fa8;           /* h·ªìng t∆∞∆°i */
      --purple:#8b5cf6;         /* t√≠m */
      --lav:#c7b6ff;            /* t√≠m nh·∫°t */
      --gold:#ffe79a;           /* v√†ng nh·∫°t */
      --ink:#fdf7ff;            /* ch·ªØ s√°ng */
      --muted:#b9b7d2;          /* ch·ªØ ph·ª• */
      --card:#151a36;           /* n·ªÅn th·∫ª */
      --border:rgba(255,255,255,0.08);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;
      color:var(--ink);
      background: radial-gradient(1200px 700px at 10% -10%, #1a1f42 0%, #0d1020 45%, #0a0f22 100%),
                  linear-gradient(120deg, rgba(255,111,168,0.10), rgba(139,92,246,0.10) 50%, rgba(255,231,154,0.08));
      background-attachment: fixed;
      overflow-x:hidden;
    }

    /* FX canvas for hearts */
    #fx{position:fixed;inset:0;pointer-events:none;z-index:0}

    /* Shell */
    .page{min-height:100%;display:flex;flex-direction:column;position:relative;z-index:1}
    header{padding:16px 18px;display:flex;gap:12px;align-items:center}
    header .logo{width:46px;height:46px;border-radius:12px;display:grid;place-items:center;font-weight:900;
      color:#2b1035;background:conic-gradient(from 0deg, #ffe0ef, #e8e0ff, #fff6d6, #ffe0ef); box-shadow:0 6px 18px rgba(255,111,168,.25)}
    header h1{margin:0;font-size:20px;letter-spacing:.3px;text-shadow:0 1px 0 #fff3, 0 8px 24px rgba(139,92,246,.35)}
    header .sub{color:var(--muted);font-size:13px}

    .wrap{flex:1;display:flex;justify-content:center;padding:14px}
    .frame{width:min(960px,96vw);display:grid;grid-template-columns:1fr;gap:14px}

    .card{background:linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
      border:1px solid var(--border); border-radius:18px; overflow:hidden; box-shadow:0 20px 40px rgba(8,5,30,.5)}
    .card-head{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;
      background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0)); border-bottom:1px solid var(--border)}

    .shine{
      background: linear-gradient(90deg, #fff 0%, #ffd1e6 20%, #e2d7ff 50%, #fff6cc 80%, #fff 100%);
      -webkit-background-clip: text; background-clip: text; color: transparent;
      text-shadow: 0 2px 0 rgba(255,255,255,0.35), 0 12px 30px rgba(255,111,168,0.30);
    }

    .card-body{padding:16px 14px}

    /* Quiz box */
    .quiz{display:grid;gap:14px}
    .q{font-size:16px;color:var(--milk)}
    .input{display:flex;gap:10px;flex-wrap:wrap}
    input[type=text]{flex:1;min-width:220px;background:#0f1430;color:var(--ink);border:1px solid var(--border);
      padding:12px 14px;border-radius:12px;outline:none;box-shadow:inset 0 0 0 1px rgba(255,255,255,0.03);
      font-weight:600;letter-spacing:.2px}
    button{appearance:none;border:none;border-radius:999px;padding:11px 14px;font-weight:800;cursor:pointer}
    .btn-primary{background:linear-gradient(90deg, var(--pink), var(--purple)); color:#0b0620; box-shadow:0 10px 22px rgba(139,92,246,.35)}
    .btn-ghost{background:transparent;color:var(--lav);border:1px solid var(--border)}

    .msg{min-height:22px;font-size:13px;color:var(--muted)}
    .msg.error{color:#ff9ac0; text-shadow:0 0 18px rgba(255,111,168,.35)}

    /* Unlock panel */
    .unlocked{display:none;padding:8px 2px}
    .unlocked.show{display:block;animation:fadeIn .5s ease}
    .card-congrats{display:grid;gap:12px;place-items:center;text-align:center;padding:6px 6px 14px}
    .congrats-title{font-size:22px;font-weight:900; letter-spacing:.3px}
    .congrats-title .shine{font-size:26px}
    .wish{max-width:720px;line-height:1.6;color:#f9eaff;font-weight:600;text-shadow:0 1px 0 #fff3, 0 10px 24px rgba(255,111,168,.25)}

    /* Subtle 3D label */
    .label3d{
      display:inline-block;padding:6px 10px;border-radius:999px;font-size:12px;font-weight:800;letter-spacing:.35px;
      color:#2b1035;background:linear-gradient(90deg,#ffe0ef,#fff6d6); box-shadow:0 8px 18px rgba(255,231,154,.25)
    }

    @keyframes shake{10%,90%{transform:translateX(-1px)}20%,80%{transform:translateX(2px)}30%,50%,70%{transform:translateX(-4px)}40%,60%{transform:translateX(4px)}}
    @keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}

    footer{display:flex;justify-content:center;padding:12px 0 18px;color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <canvas id="fx"></canvas>

  <div class="page">
    <header>
      <div class="logo">‚ù§</div>
      <div>
        <h1 class="shine">Love Unlock ‚Äî Trang b·∫•t ng·ªù</h1>
        <div class="sub">Tr·∫£ l·ªùi ƒë√∫ng c√¢u h·ªèi ƒë·ªÉ m·ªü kho√° l·ªùi ch√∫c. Nh·∫•n/ ch·∫°m ƒë·ªÉ bung tr√°i tim üíñ</div>
      </div>
    </header>

    <div class="wrap">
      <div class="frame">
        <section class="card">
          <div class="card-head">
            <span class="label3d">QUIZ LOCK</span>
            <span class="sub">T√πy ch·ªânh c√¢u h·ªèi/ƒë√°p √°n trong ph·∫ßn CONFIG</span>
          </div>
          <div class="card-body">
            <!-- QUIZ -->
            <div class="quiz" id="quizBox">
              <div class="q" id="question">C√¢u h·ªèi s·∫Ω ƒë·∫∑t ·ªü ƒë√¢y‚Ä¶</div>
              <div class="input">
                <input id="answer" type="text" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi‚Ä¶" autocomplete="one-time-code"/>
                <button id="btnCheck" class="btn-primary">M·ªü kho√°</button>
                <button id="btnHint" class="btn-ghost">G·ª£i √Ω</button>
              </div>
              <div class="msg" id="msg"></div>
            </div>

            <!-- UNLOCKED PANEL -->
            <div class="unlocked" id="unlocked">
              <div class="card-congrats">
                <div class="congrats-title"><span class="shine">üéâ ƒê√£ m·ªü kho√°!</span></div>
                <div class="wish" id="wishText"></div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>

    <footer>Ch·∫°y ho√†n to√†n tr√™n tr√¨nh duy·ªát ‚Äî kh√¥ng upload d·ªØ li·ªáu.</footer>
  </div>

<script>
// ========================
// CONFIG ‚Äî b·∫°n s·ª≠a t·∫°i ƒë√¢y cho ti·ªán
// ========================
const CONFIG = {
  QUESTION: 'Ng√†y ƒë·∫ßu ti√™n ch√∫ng ta nh·∫Øn tin l√† ng√†y n√†o? (dd/mm/yyyy)',
  ANSWERS: [ '20/10/2024', '20-10-2024' ], // nhi·ªÅu ƒë√°p √°n h·ª£p l·ªá
  HINT: 'G·ª£i √Ω: Ng√†y Ph·ª• n·ªØ VN üòâ',
  CASE_INSENSITIVE: true,
  IGNORE_ACCENTS: true,
  TRIM: true,
  WISH: `Em y√™u, c·∫£m ∆°n v√¨ ƒë√£ ƒë·∫øn b√™n ƒë·ªùi anh.\n\nM·ªói ng√†y b√™n em ƒë·ªÅu l√† m·ªôt ƒëi·ªÅu k·ª≥ di·ªáu nh·ªè. \nCh√∫c em lu√¥n r·ª±c r·ª° nh∆∞ n·∫Øng s·ªõm, ng·ªçt ng√†o nh∆∞ tr√† s·ªØa, v√† b√¨nh y√™n trong v√≤ng tay anh. üíñ`,
};

// Elements
const qEl = document.getElementById('question');
const ansEl = document.getElementById('answer');
const msgEl = document.getElementById('msg');
const btnCheck = document.getElementById('btnCheck');
const btnHint = document.getElementById('btnHint');
const unlocked = document.getElementById('unlocked');
const wishText = document.getElementById('wishText');

// Hearts FX canvas
const fx = document.getElementById('fx');
const fxc = fx.getContext('2d');
function fitFX(){ const r=window.devicePixelRatio||1; fx.width=innerWidth*r; fx.height=innerHeight*r; fx.style.width=innerWidth+'px'; fx.style.height=innerHeight+'px'; }
window.addEventListener('resize', fitFX);
fitFX();

// Hearts store
const hearts=[];
function spawnHearts(x,y,count=24, burst=true){
  const r=window.devicePixelRatio||1;
  for(let i=0;i<count;i++){
    const a = burst ? (Math.random()*Math.PI*2) : (Math.random()*Math.PI - Math.PI/2);
    const sp = 2 + Math.random()*3;
    hearts.push({x:x*r, y:y*r, vx:Math.cos(a)*sp*r, vy:Math.sin(a)*sp*r - (burst?0:2*r), life:1, rot:Math.random()*Math.PI, size:(12+Math.random()*16)*r});
  }
}
function heartPath(ctx,s){ctx.moveTo(0,-s*0.35);ctx.bezierCurveTo(s*0.5,-s*1.2, s*1.6,-s*0.1, 0, s*0.9);ctx.bezierCurveTo(-s*1.6,-s*0.1, -s*0.5,-s*1.2, 0,-s*0.35);} 
function tick(){
  fxc.clearRect(0,0,fx.width,fx.height);
  const r=window.devicePixelRatio||1;
  for(let i=hearts.length-1;i>=0;i--){
    const h=hearts[i];
    h.vy += 0.035*r; h.x += h.vx; h.y += h.vy; h.life -= 0.012;
    if(h.life<=0){hearts.splice(i,1); continue;}
    fxc.save(); fxc.translate(h.x,h.y); fxc.rotate(h.rot); fxc.globalAlpha = Math.max(0,h.life);
    const g=fxc.createLinearGradient(-h.size,-h.size,h.size,h.size);
    g.addColorStop(0,'#ff8fbe'); g.addColorStop(1,'#7c5eff');
    fxc.fillStyle=g; fxc.beginPath(); heartPath(fxc,h.size); fxc.closePath(); fxc.fill(); fxc.restore();
  }
  requestAnimationFrame(tick);
}
requestAnimationFrame(tick);

// Click/hold hearts anywhere
function pointerXY(ev){ if(ev.touches&&ev.touches[0]) return {x:ev.touches[0].clientX,y:ev.touches[0].clientY}; return {x:ev.clientX,y:ev.clientY}; }
['click','pointerdown','touchstart'].forEach(evt=>window.addEventListener(evt,(e)=>{const {x,y}=pointerXY(e); spawnHearts(x,y,20,true);},{passive:true}));
let holdTimer=null; ['pointerdown','touchstart'].forEach(evt=>window.addEventListener(evt,(e)=>{const {x,y}=pointerXY(e); holdTimer=setInterval(()=>spawnHearts(x,y,10,false),120);},{passive:true}));
['pointerup','touchend','pointercancel'].forEach(evt=>window.addEventListener(evt,()=>{clearInterval(holdTimer); holdTimer=null;}));

// Quiz logic
qEl.textContent = CONFIG.QUESTION;
btnHint.addEventListener('click', ()=>{ msgEl.textContent = CONFIG.HINT || 'Kh√¥ng c√≥ g·ª£i √Ω ü§≠'; msgEl.classList.remove('error');});

btnCheck.addEventListener('click', check);
ansEl.addEventListener('keydown', (e)=>{ if(e.key==='Enter') check(); });

function normalize(s){
  if(CONFIG.TRIM) s = s.trim();
  if(CONFIG.CASE_INSENSITIVE) s = s.toLowerCase();
  if(CONFIG.IGNORE_ACCENTS){
    // remove combining marks with Unicode property escape (supported on modern browsers)
    s = s.normalize('NFD').replace(/\p{M}+/gu,'');
  }
  // normalize separators
  s = s.replace(/\s+/g,' ').replace(/[-_.]/g,'/');
  return s;
}

function check(){
  const val = normalize(ansEl.value);
  if(!val){ msg('H√£y nh·∫≠p c√¢u tr·∫£ l·ªùi nha üíå'); return; }
  const ok = CONFIG.ANSWERS.map(normalize).includes(val);
  if(ok){ unlock(); }
  else { wrong(); }
}

function msg(t){ msgEl.textContent=t; msgEl.classList.remove('error'); }
function wrong(){
  msgEl.textContent = '∆† ch∆∞a ƒë√∫ng r·ªìi, th·ª≠ nh·ªõ k·ªπ h∆°n nha ü•∫';
  msgEl.classList.add('error');
  // shake effect
  const box = document.getElementById('quizBox'); box.style.animation='shake 450ms';
  setTimeout(()=>box.style.animation='',480);
  // small hearts burst at input
  const rect = ansEl.getBoundingClientRect();
  spawnHearts(rect.left + rect.width - 10, rect.top + rect.height/2, 14, true);
}

function unlock(){
  // Set wish text (typewriter)
  typeText(wishText, CONFIG.WISH, 12);
  document.getElementById('quizBox').style.display='none';
  unlocked.classList.add('show');
  // center burst
  spawnHearts(innerWidth/2, innerHeight/2, 80, true);
}

function typeText(el, text, speed=12){
  el.innerHTML='';
  const lines = text.split(/\n/);
  let i=0, j=0;
  function step(){
    if(i>=lines.length){ return; }
    if(j===0){ if(i>0) el.appendChild(document.createElement('br')); }
    const line = lines[i];
    el.innerHTML += escapeHtml(line.charAt(j));
    j++;
    if(j>=line.length){ i++; j=0; setTimeout(step, 350); }
    else { setTimeout(step, speed + Math.random()*30); }
  }
  step();
}

function escapeHtml(c){ const div=document.createElement('div'); div.textContent=c; return div.innerHTML; }
</script>
</body>
</html>
